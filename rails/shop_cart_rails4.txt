Validation:

The Products controller accepts blank values. This is because there is no validation at Model.


Letâ€™s start by validating that the text fields all contain something before a row is written to the database

:~/Sites/depot/app/models$ cat product.rb 
#Output
class Product < ActiveRecord::Base
    validates   :title, :description, :image_url, presence: true
end

There is a flaw above. Price can be blank or invalid like 0.00. Adding one more validates statement.

validates   :price, numericality: { greater_than_or_equal_to: 0.01} 


The title should be unique (primary DB key ?) 
validates   :title, uniqueness: true


image_url uses Regex for sanitising inputs

validates :image_url, allow_blank: true, format: {
with:
%r{\.(gif|jpg|png)$}i,
message: 'must be a URL for GIF, JPG or PNG image.'
}


This however gave an error with following message

The provided regular expression is using multiline anchors (^ or $), which may present a security risk. Did you mean to use \A and \z, or forgot to add the :multiline => true option?

FIX: use \z for end of line expression
